"use strict";var require=function(){};!function(){GM_addStyle("\n    .month-btn {\n      box-shadow:inset 0px 1px 0px 0px #a4e271;\n      background:linear-gradient(to bottom, #89c403 5%, #77a809 100%);\n      background-color:#89c403;\n      border-radius:6px;\n      border:1px solid #74b807;\n      display:inline-block;\n      cursor:pointer;\n      color:#ffffff;\n      font-family:Arial;\n      font-size:15px;\n      font-weight:bold;\n      padding:6px 24px;\n      text-decoration:none;\n      text-shadow:0px 1px 0px #528009;\n    }\n    .month-btn:hover {\n      background:linear-gradient(to bottom, #77a809 5%, #89c403 100%);\n      background-color:#77a809;\n    }\n    .month-btn:active {\n      position:relative;\n      top:1px;\n    }\n    \n    "),GM_addStyle('#overlay-plugin{position:fixed;background:rgba(0,0,0,0.8);width:100%;height:100%;top:0;left:0;z-index:10;display:flex;flex-direction:row;justify-content:center;align-items:center;color:#777;text-align:center;font-family:"Gill sans", sans-serif}#overlay-plugin #modal{margin:auto;position:absolute;background:#ffffff;z-index:2;border-radius:10px;padding:2%}#overlay-plugin h1{margin:1em 0;border-bottom:1px dashed;padding-bottom:1em;font-weight:lighter}#overlay-plugin p{font-style:italic}#overlay-plugin .loader{margin:0 0 2em;height:100px;width:20%;text-align:center;padding:1em;margin:0 auto 1em;display:inline-block;vertical-align:top}.hide{display:none !important}svg path,svg rect{fill:#FF6700}'),GM_addStyle("\n      .modal {\n        position: fixed;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.5);\n        opacity: 0;\n        visibility: hidden;\n        transform: scale(1.1);\n        transition: visibility 0s linear 0.25s, opacity 0.25s 0s, transform 0.25s;\n      }\n      .modal-content {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          background-color: white;\n          padding: 1rem 1.5rem;\n          width: 24rem;\n          border-radius: 0.5rem;\n      }\n      .close-button {\n          float: right;\n          width: 1.5rem;\n          line-height: 1.5rem;\n          text-align: center;\n          cursor: pointer;\n          border-radius: 0.25rem;\n          background-color: lightgray;\n      }\n      .close-button:hover {\n          background-color: darkgray;\n      }\n      .show-modal {\n          opacity: 1;\n          visibility: visible;\n          transform: scale(1.0);\n          transition: visibility 0s linear 0s, opacity 0.25s 0s, transform 0.25s;\n      }  \n    "),GM_addStyle("\n      .alert-msg {\n        padding: 10px;\n        background-color: #f44336;\n        color: white;\n        margin: 0.7rem;\n      }\n      \n      .close-btn {\n        margin-left: 15px;\n        color: white;\n        font-weight: bold;\n        float: right;\n        font-size: 16px;\n        line-height: 10px;\n        cursor: pointer;\n        transition: 0.3s;\n      }\n      \n      .close-btn:hover {\n        color: black;\n      }\n    ")}();var ConfirmationModalTemplate=function(){var e=document.createElement("div");e.classList.add("modal"),e.innerHTML='\n        <div class="modal-content">\n            <span class="close-button">×</span>\n            <h2>Configurações do relatório</h2>\n            <br/>\n            Remover dias: <input type="text" id="days-to-exclude" value=""/>\n            <br /><br /><br />\n            Carga Horaria do Calculo\n            <select id="weekly-hourly-load">\n                <option value="40" selected>40</option>\n                <option value="44">44</option>\n                <option value="30">30</option>\n            </select>\n            <br /><br />\n            <h3>Deseja atualizar os dados?</h3>\n            <br /><br />\n            <input type="button" value="Sim" id="comfirm-yes" /> <input type="button" id="comfirm-no" value="Não, use da busca anterior" /> \n        </div>\n    ',document.querySelector("body").appendChild(e),e.querySelector(".close-button").addEventListener("click",function(){e.classList.remove("show-modal")});var t=e.querySelector("#comfirm-yes"),n=e.querySelector("#comfirm-no"),o=e.querySelector("#days-to-exclude"),r=e.querySelector("#weekly-hourly-load");return{toggle:function(){e.classList.toggle("show-modal")},comfirmInput:t,notComfirmInput:n,daysToExcludeInput:o,weeklyHourlyLoadSelect:r}}(),LoaderTemplate=function(){var e=document.createElement("div");return e.setAttribute("id","overlay-plugin"),e.classList.add("hide"),e.innerHTML='\n            <div id="modal">\n                <div id="header">\n                    <h1>Aguarde um minuto</h1>\n                </div>\n                <div id="body">\n                    <p>Estamos carregando os dados</p>\n                </div>\n                <div class="loader loader--style4" title="3">\n                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                     width="24px" height="24px" viewBox="0 0 24 24" style="enable-background:new 0 0 50 50;" xml:space="preserve">\n                    <rect x="0" y="0" width="4" height="7" fill="#333">\n                      <animateTransform  attributeType="xml"\n                        attributeName="transform" type="scale"\n                        values="1,1; 1,3; 1,1"\n                        begin="0s" dur="0.6s" repeatCount="indefinite" />\n                    </rect>\n                    <rect x="10" y="0" width="4" height="7" fill="#333">\n                      <animateTransform  attributeType="xml"\n                        attributeName="transform" type="scale"\n                        values="1,1; 1,3; 1,1"\n                        begin="0.2s" dur="0.6s" repeatCount="indefinite" />\n                    </rect>\n                    <rect x="20" y="0" width="4" height="7" fill="#333">\n                      <animateTransform  attributeType="xml"\n                        attributeName="transform" type="scale"\n                        values="1,1; 1,3; 1,1"\n                        begin="0.4s" dur="0.6s" repeatCount="indefinite" />\n                    </rect>\n                  </svg>\n                </div>\n            </div>',document.querySelector("body").appendChild(e),{hide:function(){e.classList.add("hide")},show:function(){e.classList.remove("hide")}}}(),getMonth=function(e){return 0==e?11:e-1};Date.prototype.minusDay=function(){this.setDate(this.getDate()-1)},Date.prototype.withMonth=function(e){return this.setMonth(getMonth(e)),this},Date.prototype.withDay=function(e){return this.setDate(e),this},Date.prototype.adjustYear=function(e){return(new Date).getMonth()<getMonth(e)&&this.setFullYear(this.getFullYear()-1),this},require("core-js/modules/es6.array.sort"),require("core-js/modules/es6.regexp.replace");var PeriodManager=function(){var e=function(e,t,n){this.id=e,this.start=t,this.end=n},t=[],n=function(e){return e.replace(/[\s\S]*(\d{2})\/(\d{2})\/(\d{4})[\s\S]*\d{2}\/\d{2}\/\d{4}/,"$2-$1-$3")},o=function(e){return e.replace(/[\s\S]*\d{2}\/\d{2}\/\d{4}[\s\S]*(\d{2})\/(\d{2})\/(\d{4})/,"$2-$1-$3")},r=function(e){for(var n=0;n<t.length;n++)if(t[n].start<=e&&e<=t[n].end)return t[n].id;return t[0].id};return function(){var r=document.querySelector(".separatorPeriodo + div select");if(r){for(var a=0;a<r.length;a++){var i=r.options[a],c=i.value,l=i.textContent.trim(),s=new Date(n(l)),d=new Date(o(l));t.push(new e(c,s,d))}t.sort(function(e,t){return t.id-e.id})}}(),{getPeriod:r}}();require("core-js/modules/es6.regexp.split");var evaluatorHoliday=function(){var e=function(e){if(!localStorage.getItem("holidays")){var t=(new Date).getFullYear(),n="https://raw.githubusercontent.com/erickLFLopes/mentoringSemanal/master/holidays/"+t+".json",o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){for(var t=JSON.parse(this.responseText),n=[],o=0;o<t.length;o++)n.push(t[o].date);localStorage.setItem("holidays",n),e&&e()}},o.open("GET",n,!0),o.send()}},t=function(){for(var e=localStorage.getItem("holidays").split(","),t=[],n=e.length-1;n>=0;n--){var o=e[n].split("/");t.push(new Date(o[2],--o[1],o[0]))}return t},n=function(e){for(var n=t(),o=n.length-1;o>=0;o--)if(e-n[o]==0)return!0;return!1};return function(){var t=(new Date).getUTCFullYear();localStorage.getItem("holidaysYear")&&localStorage.getItem("holidaysYear")==t||(localStorage.setItem("holidaysYear",t),localStorage.removeItem("holidays")),e()}(),function(){localStorage.getItem("holidays")||e()}(),{getHolidays:t,verifyDate:n}}();require("core-js/modules/es6.regexp.replace");var Order=function(){var e=[],t=function(e){var t=e.querySelectorAll("td"),n=t[0].innerText.trim(),o=t[1].innerText.trim(),r=n.replace(/[\s\S]*(\d{2})\/\d{2}\/\d{4}/,"$1"),a=n.replace(/[\s\S]*\d{2}\/(\d{2})\/\d{4}/,"$1"),i=n.replace(/[\s\S]*\d{2}\/\d{2}\/(\d{4})/,"$1"),c=o.replace(/(\d{2}):\d{2}/,"$1"),l=o.replace(/\d{2}:(\d{2})/,"$1");return{baseDate:new Date(i,a-1,r,0,0),date:new Date(i,a-1,r,c,l),day:r,month:a,year:i,hour:c,minute:l}};return function(e){var t=((new Date).getFullYear(),"/Dimep/PedidosJustificativas/Index/"),n=window.location.pathname;if(n){t+=n.substring(n.lastIndexOf("/")+1)}var o=new XMLHttpRequest;o.onreadystatechange=function(){4==this.readyState&&200==this.status&&e(this.responseText)},o.open("GET",t,!0),o.send()}(function(n){for(var o=$(n).find("#TabSituacaoPedido1 tr"),r=1;r<o.length;r++)e.push(t(o[r]));0==e.length&&console.warn("Não encontramos seus pedidos")}),{getOdersForDay:function(t){for(var n=[],o=0;o<e.length;o++)e[o].baseDate.toDateString()==t.toDateString()&&n.push(e[o].date);return n},orders:e}}();require("core-js/modules/es6.regexp.replace");var PDF=function(){function e(){var e=n.template,t=n.templateData;for(var o in t){var r="{{"+o+"}}";e=e.replace(r,t[o])}var a=window.open("","","height="+n.widthWindow+",width="+n.heightWindow);a?(a.document.write(e),a.print(),a.document.close()):GM_notification("Erro ao criar PDF","Click novamente no botão e cancele a busca")}function t(e,t,o){n.changeTemplate("style",e),n.changeTemplate("title",t),n.changeTemplate("data",o)}var n={heightWindow:700,widthWindow:700,template:"\n            <html>\n                <head>\n                    <style>\n                        {{style}}  \n                    </style>\n                    <title>{{title}}</title>\n                </head>\n                <body>\n                    {{data}}\n                </body>\n            </html>",templateData:{style:"",title:"",data:""},setWidthWindow:function(e){this.widthWindow=e|this.widthWindow},setHeightWindow:function(e){this.heightWindow=e|this.heightWindow},changeTemplate:function(e,t){this.templateData[e]=t}};return{generate:t,print:e,configs:n}}();require("core-js/modules/es6.regexp.split"),require("core-js/modules/es6.regexp.replace");var periodUtils=function(){var e=document.querySelectorAll("select[name=per] option"),t=Array.prototype.slice.call(e),n=function(e){return new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$2-$1-$3"))},o=function(e){return{dates:e.text.replace(/[\s\S]*(\d{2}\/\d{2}\/\d{4})[\s\S]*(\d{2}\/\d{2}\/\d{4})[\s\S]*/g,"$1;$2").split(";"),value:e.value}},r=function(e){return{init:n(e.dates[0]),end:n(e.dates[1]+"  23:59:59"),value:e.value}},a=t.map(o).map(r),i=function(e,t){if(!e)return t;var n=a.filter(function(t){return t.init<=e&&e<=t.end});return n.length>0?n[0].value:t||c},c=i(new Date);return{getPeriod:i}}(),cronosUtil=function(e){var t=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],n=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sabado"],o=(new Date).getMonth(),r=o+1,a=r>0?r-1:11,i=a>0?a-1:11,c=function(e){return("0"+e).slice(-2)},l=function(e){return c(parseInt(e/60))+"h "+c(e%60)+"min"},s={40:480,44:528,30:360},d=function(){var t=e.weeklyHourlyLoadSelect.value;return t?s[t]:s[40]},u=function(e){return 0==e.dayOfWeek||6==e.dayOfWeek},h=function(e){return!u(e)};return{getMonthName:function(e){return t[e>0?e-1:11]},getDayName:function(e){return n[e]},getCurrentMonth:function(){return r},getLastMonth:function(){return a},getTwiceLastMonth:function(){return i},getWeekNeedTime:function(e){return d()*e},getInitialWeek:function(e){return e==r?0:4*(r-(e+1))+parseInt((new Date).getDate()/7)},getHour:l,isWeekEndDay:u,isWeekDay:h}}(ConfirmationModalTemplate),ReportTemplate=function(e){var t=function(e,t){return e<t?"red":"#0bb50bd4"},n=function(t,n){return'<tr style="background-color:'.concat(n,';">\n            <td>').concat(e.getDayName(t.dayOfWeek),"</td>\n            <td>").concat(t.formatedPT,"</td><td>").concat(t.s,"</td>\n            <td>").concat(t.e,"</td><td>").concat(t.s1,"</td>\n            <td>").concat(t.e1,"</td><td>").concat(e.getHour(t.accumulation),"</td></tr>")},o=function(t,n){return'<tr style="background-color:'.concat(n,';">\n            <td>').concat(e.getDayName(t.dayOfWeek),"</td>\n            <td>").concat(t.formatedPT,"</td><td>-</td>\n            <td>-</td><td>-</td>\n            <td>-</td><td>-</td></tr>")};return{getWeekReport:function(r){var a=r[0],i=r[r.length-1],c=0,l='<table border="1" style="border-collapse: collapse;">\n            <tr><th colspan="7">Semana de '.concat(a.formatedPT," à ").concat(i.formatedPT,"</th></tr>\n            <tr>\n                <th>dia da semana</th>\n                <th>dia do mês</th>\n                <th>Entrada</th>\n                <th>Saída para Almoço</th>\n                <th>Retorno do Almoço</th>\n                <th>Saída</th>\n                <th>Total</th>\n            </tr>"),s=0;r.forEach(function(e){var t=e.isHoliday?"#ff980073":e.isExcludedDay?"#ff4040":"#fff";0==e.accumulation?l+=o(e,t):(c+=e.accumulation,l+=n(e,t)),e.countableDay&&s++});var d=e.getWeekNeedTime(s);return l+='<tr>\n                    <td colspan="6"> Tempo necessário: '.concat(e.getHour(d)," </td>\n                    <td style='color:").concat(t(c,d),";'>").concat(e.getHour(c),"</td>\n                </tr></table><br><br>")}}}(cronosUtil),viewManager=function(){var e=function(e){return'\n            <input id="Month-'.concat(e,'" style="margin-rigth:1%;" type="button" value="Gerar relatório de ').concat(cronosUtil.getMonthName(e),'" />\n        ')},t='<div class="marginTop20" style="overflow:hidden; background-color: #E1E0E0; border: 2px solid #E1E0E0;-moz-border-radius: 4px;-webkit-border-radius: 4px;border-radius: 4px;margin-bottom: 10px;">\n            <div style="float:left;width:2%;background-color:#E1E0E0;padding-top:5px;text-align:center">\n            <i class="fa fa-pencil"></i>\n            </div>\n            <div style="float:left;  width:98%; background-color:#fff" id="menu-viewer">\n            \n                <div style="padding: 10px">\n                    <br>\n                    '.concat(e(cronosUtil.getTwiceLastMonth()),"\n                    ").concat(e(cronosUtil.getLastMonth()),"\n                    ").concat(e(cronosUtil.getCurrentMonth()),"\n                    </div>\n                </div>\n            \n    </div></div>");return document.querySelector(".PageTitle +div").insertAdjacentHTML("beforeBegin",t),{btnCurrentMonth:document.querySelector("#Month-"+cronosUtil.getCurrentMonth()),btnLastMonth:document.querySelector("#Month-"+cronosUtil.getLastMonth()),btnTwiceLastMonth:document.querySelector("#Month-"+cronosUtil.getTwiceLastMonth()),monthAccumulation:document.querySelector("#month-acc-"+cronosUtil.getCurrentMonth()),lastMonthAccumulation:document.querySelector("#month-acc-"+cronosUtil.getLastMonth())}}();require("core-js/modules/es6.regexp.match");var ReportConfig=function(e){return{getDaysToExclude:function(){var e=ConfirmationModalTemplate.daysToExcludeInput.value;return e.match(/[\d\,]/gi)?e.match(/\d*/g).filter(function(e){return e.match(/\d/)&&1*e>0&&1*e<32}):[]}}}();require("core-js/modules/es6.array.sort"),require("core-js/modules/es6.regexp.replace");var search=function(e,t,n,o,r){var a=function(e){return("0"+e).slice(-2)},i=function(e){return a(e.getHours())+":"+a(e.getMinutes())},c=function(){return r.getDayNeedTime()},l=function(e){return c()*e},s=function(e){return e.querySelector(".TimeINVisualizacao")?e.querySelector(".TimeINVisualizacao").textContent:""},d=function(e){return e.querySelector(".TimeOUTVisualizacao")?e.querySelector(".TimeOUTVisualizacao").textContent:""},u=function(e){return e.querySelectorAll(".TimeINVisualizacao")[1]?e.querySelectorAll(".TimeINVisualizacao")[1].textContent:""},h=function(e){return e.querySelectorAll(".TimeOUTVisualizacao")[1]?e.querySelectorAll(".TimeOUTVisualizacao")[1].textContent:""},m=function(e){return e.querySelectorAll("input")[5]?e.querySelectorAll("input")[5].value:""},p=function(e,t){var n=60*e.getHours()+e.getMinutes(),o=60*t.getHours()+t.getMinutes(),r=o-n;return r>0?r:0},g=function(e){for(var t=m(e).replace(/(\d{2})_(\d{2})_(\d{4})/,"$2/$1/$3"),n=[],a=[s(e),d(e),u(e),h(e)],c=0;c<a.length;c++)""!=a[c]&&n.push(new Date(t+" "+a[c]));var l=new Date(t);for(n=n.concat(o.getOdersForDay(l)),n.sort();n.length<4;)n.push(l);var g=n[0],f=n[1],y=n[2],v=n[3],b=(p(g,f),p(y,v),p(g,f),p(y,v),t.replace(/\d{2}\/(\d{2})\/\d{4}/,"$1")),w=r.getDaysToExclude();return{day:b,month:t.replace(/(\d{2})\/\d{2}\/\d{4}/,"$1"),formatedEN:t.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$3-$1-$2"),formatedPT:t.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$2/$1/$3"),date:t,start:g,isHoliday:evaluatorHoliday.verifyDate(g),isExcludedDay:w.includes(b),countableDay:!1,dayOfWeek:g.getDay(),s:i(g),e:i(f),s1:i(y),e1:i(v),accumulation:w.includes(b)?0:p(g,f)+p(y,v)}},f=function(e,t){for(var n=[],o=$(e).find(".DiaApontamento"),r=0;r<o.length;r++){var a=g(o[r]);a.month==t&&n.push(a)}return n},y=function(e,t){for(var n=0;n<e.length;n++)if(e[n]&&e[n].day&&1*e[n].day==1&&e[n].month&&1*e[n].month==t)return!0;return!1},v=function(e){for(var t=0,n=0;n<e.length;n++)e[n]&&e[n].accumulation&&1*e[n].accumulation>0&&(t+=1*e[n].accumulation);return{accumulation:t,hour:parseInt(t/60),min:t%60}},b=function(e){for(var t=[],n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++)t.push(e[n][o]);for(var r=0,a=0,n=0;n<t.length;n++)t[n]&&t[n].accumulation&&(r+=1*t[n].accumulation),t[n]&&t[n].countableDay&&(a+=1);var i=l(a),c=r-i;return{accumulation:r,hour:parseInt(r/60),min:r%60,needed:i,neededHour:parseInt(i/60),neededMin:i%60,saldo:c,saldoHour:Math.abs(parseInt(c/60)),saldoMin:Math.abs(c%60)}};return{searchDaysFromWeek:function e(o,r,a,i,c){n.show(),dtoPessoaApontamentos.Week=r,dtoPessoaApontamentos.IdPeriodo=o;var l=[];$.ajax({complete:function(){retrivingPonto=0},url:"/Dimep/Ponto/BuscarApontamentos",type:"POST",contentType:"application/json; charset=utf-8",dataType:"html",data:JSON.stringify(dtoPessoaApontamentos),success:function(n){var c=n.replace(/\<scrip[\s\S]*?\<\/script\>/gi,"");if(console.log(c),l=l.concat(f(c,a)),y(l,a))i({week:l,final:!0});else{if(l.length>0){l.sort(function(e,t){return t.day-e.day});var s=new Date(l[0].start);s.minusDay();var d=t.getPeriod(s);o!=d&&(r=1),o=d}console.log(o,r-1,a,i),e(o,r-1,a,i),i({week:l,final:!1})}},error:function(e,t,o){e.responseText.indexOf("/Account/LogOn")>=0&&e.responseText.indexOf(".indexOf('/Account/LogOn')")<0&&location.reload(),n.hide()}})},getAccumulationWeek:v,getAccumulation:b}}(window,PeriodManager,LoaderTemplate,Order,ReportConfig),ErrorMessageTemplate=function(){var e=document.createElement("div"),t=document.createElement("span"),n=document.createElement("p");e.setAttribute("id","alert-msg"),e.classList.add("hide"),e.classList.add("alert-msg"),e.appendChild(t),e.appendChild(n),document.querySelector("#menu-viewer").appendChild(e);var o=function(){e.classList.add("hide")};return t.classList.add("close-btn"),t.innerText="x",t.addEventListener("click",function(){o()}),{show:function(t){t&&(n.innerHTML=t,e.classList.remove("hide"))}}}();require("core-js/modules/es6.array.sort"),function(){var e=(new Date).getMonth()+1,t=1==e?12:e-1,n=1==t?12:t-1,o=1==n?12:n-1;!function(){void 0!=localStorage.getItem("month-".concat(o))&&"null"!=localStorage.getItem("month-".concat(o))&&localStorage.removeItem("month-".concat(o))}()}();var isValidWeek=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(cronosUtil.isWeekDay(n)&&n.accumulation>0)return!0}return!1},processCountablesDays=function(e){e.forEach(function(e){!cronosUtil.isWeekDay(e)||e.isHoliday||e.isExcludedDay||(e.countableDay=!0)})},getMonthData=function(e,t,n){if(!n)return void t(e,JSON.parse(localStorage.getItem("month-".concat(e))));var o=[],r=[],a=function(n){if(n.week.length>0&&(processCountablesDays(n.week),r=r.concat(n.week)),n.final){var a=[];r.sort(function(e,t){return e.day-t.day}).forEach(function(e){a.push(e),0!=e.dayOfWeek&&e!=r[r.length-1]||(isValidWeek(a)&&o.push(a),a=[])}),localStorage.setItem("month-".concat(e),JSON.stringify(o)),t(e,o)}},i=PeriodManager.getPeriod((new Date).withMonth(e).withDay(28).adjustYear(e));search.searchDaysFromWeek(i,0,e,a,null)},month=(new Date).getMonth()+1,lastMonth=1==month?12:month-1,twiceLastMonth=1==lastMonth?12:lastMonth-1,invalidMonth=1==twiceLastMonth?12:twiceLastMonth-1,buildMonthReport=function(e,t){var n="<center><h1>Mês ".concat(cronosUtil.getMonthName(e),"</h1>");return t.forEach(function(e){n+=ReportTemplate.getWeekReport(e)}),n+"</center>"},enableBtn=function(e){return e.disabled=!1},changeByPlusButton=function(e){return e.classList.add("PlusButton")},processButton=function(e){enableBtn(e),changeByPlusButton(e)},buildButton=function(e,t,n){e.addEventListener("click",function(e,t){PDF.generate("","Relatório de ".concat(cronosUtil.getMonthName(e)),t),PDF.print()})},processMonthInfo=function(e,t){var n=search.getAccumulation(t);e.innerHTML=(n.saldo<0?"-":"+")+n.saldoHour+"h e "+n.saldoMin+"min",e.style.color=n.saldo<0?"red":"green"},reportMonth=month,generatReportFunction=[],generateReport=function(e){ConfirmationModalTemplate.toggle(),getMonthData(reportMonth,function(e,t){try{PDF.generate("","Relatório de ".concat(cronosUtil.getMonthName(e)),buildMonthReport(e,t)),PDF.print(),LoaderTemplate.hide()}catch(e){ErrorMessageTemplate.show("Ocorreu um erro ao gerar o relatório, caso persista <a target='target' href='https://github.com/erickLFLopes/cronos-kairos/issues'> nos informe</a>"),console.error(e.message),LoaderTemplate.hide()}},e)},validateLocalData=function(){return void 0!=localStorage.getItem("month-".concat(reportMonth))&&"null"!=localStorage.getItem("month-".concat(reportMonth))};ConfirmationModalTemplate.comfirmInput.addEventListener("click",function(){return generateReport(!0)}),ConfirmationModalTemplate.notComfirmInput.addEventListener("click",function(){return generateReport(!1)});var btn=viewManager.btnCurrentMonth;btn.addEventListener("click",function(){reportMonth=month,validateLocalData()?ConfirmationModalTemplate.toggle():generateReport(!0)});var btnLastMonth=viewManager.btnLastMonth;btnLastMonth.addEventListener("click",function(){reportMonth=lastMonth,validateLocalData()?ConfirmationModalTemplate.toggle():generateReport(!0)});var btnTwiceLastMonth=viewManager.btnTwiceLastMonth;btnTwiceLastMonth.addEventListener("click",function(){reportMonth=twiceLastMonth,validateLocalData()?ConfirmationModalTemplate.toggle():generateReport(!0)});